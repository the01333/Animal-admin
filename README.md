# å® ç‰©é¢†å…»ç®¡ç†ç³»ç»Ÿ - åç«¯æœåŠ¡

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäºSpring Boot 3.3.5å’ŒJava 21çš„å® ç‰©é¢†å…»ç®¡ç†ç³»ç»Ÿåç«¯æœåŠ¡ï¼Œæä¾›å®Œæ•´çš„RESTful APIæ¥å£ï¼Œæ”¯æŒå® ç‰©ä¿¡æ¯ç®¡ç†ã€é¢†å…»ç”³è¯·æµç¨‹ã€ç”¨æˆ·è®¤è¯æˆæƒã€æ–‡ç« å†…å®¹ç®¡ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

> **ğŸ‰ æœ€æ–°æ›´æ–°**: å·²å‡çº§åˆ° Java 21 + Spring Boot 3.3.5ï¼Œæ”¯æŒ Spring AI å’Œ LangChain4jï¼è¯¦è§ [Java 21å‡çº§è¯´æ˜](./JAVA21å‡çº§è¯´æ˜.md)

## æŠ€æœ¯æ ˆ

- **Java**: 21
- **Spring Boot**: 3.3.5
- **MyBatis-Plus**: 3.5.9
- **MySQL**: 8.0+
- **Redis**: 6.0+
- **Sa-Token**: 1.39.0
- **Spring AI**: 1.0.0-M4
- **Hutool**: 5.8.32
- **Lombok**: 1.18.34
- **FastJSON2**: 2.0.53

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **JDK 21+** (å¿…éœ€ï¼Œæ”¯æŒSpring AIå’ŒLangChain4j)
- Maven 3.8+
- MySQL 8.0+
- Redis 6.0+

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
cd Animal-admin/Animal-admin
```

2. **åˆ›å»ºæ•°æ®åº“**
```bash
# ä½¿ç”¨MySQLå®¢æˆ·ç«¯æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬
mysql -u root -p < init.sql
```

3. **ä¿®æ”¹é…ç½®**

ç¼–è¾‘ `src/main/resources/application.yml`ï¼Œä¿®æ”¹æ•°æ®åº“å’ŒRedisè¿æ¥ä¿¡æ¯ï¼š

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/animal_adopt
    username: root
    password: your_password
  data:
    redis:
      host: localhost
      port: 6379
      password: 
```

4. **å¯åŠ¨é¡¹ç›®**
```bash
# ä½¿ç”¨Mavenå¯åŠ¨
mvn spring-boot:run

# æˆ–è€…æ‰“åŒ…åè¿è¡Œ
mvn clean package
java -jar target/animal-adopt-system-1.0.0.jar
```

5. **è®¿é—®API**

æœåŠ¡å¯åŠ¨åï¼Œè®¿é—®ï¼šhttp://localhost:8080/api

## é¡¹ç›®ç»“æ„

```
src/main/java/com/animal/adopt/
â”œâ”€â”€ config/                 # é…ç½®ç±»
â”œâ”€â”€ controller/             # æ§åˆ¶å™¨å±‚
â”œâ”€â”€ service/                # æœåŠ¡å±‚
â”‚   â””â”€â”€ impl/              # æœåŠ¡å®ç°
â”œâ”€â”€ mapper/                 # æ•°æ®è®¿é—®å±‚
â”œâ”€â”€ entity/                 # å®ä½“ç±»
â”œâ”€â”€ dto/                    # æ•°æ®ä¼ è¾“å¯¹è±¡
â”œâ”€â”€ vo/                     # è§†å›¾å¯¹è±¡
â”œâ”€â”€ enums/                  # æšä¸¾ç±»
â”œâ”€â”€ common/                 # å…¬å…±ç±»
â”œâ”€â”€ exception/              # å¼‚å¸¸å¤„ç†
â””â”€â”€ utils/                  # å·¥å…·ç±»
```

## æ ¸å¿ƒåŠŸèƒ½

### 1. ç”¨æˆ·ç®¡ç†
- ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ç™»å‡º
- ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢ä¸æ›´æ–°
- å¯†ç ä¿®æ”¹
- åŸºäºSa-Tokençš„è®¤è¯æˆæƒ

### 2. å® ç‰©ç®¡ç†
- å® ç‰©ä¿¡æ¯CRUD
- å® ç‰©åˆ—è¡¨åˆ†é¡µæŸ¥è¯¢
- å¤šæ¡ä»¶ç­›é€‰ï¼ˆç§ç±»ã€çŠ¶æ€ã€å¹´é¾„ç­‰ï¼‰
- å® ç‰©ä¸Šæ¶/ä¸‹æ¶ç®¡ç†
- æµè§ˆæ¬¡æ•°ç»Ÿè®¡

### 3. é¢†å…»ç”³è¯·
- æäº¤é¢†å…»ç”³è¯·
- ç”³è¯·åˆ—è¡¨æŸ¥è¯¢ï¼ˆç”¨æˆ·/ç®¡ç†å‘˜ï¼‰
- ç”³è¯·å®¡æ ¸ï¼ˆé€šè¿‡/æ‹’ç»ï¼‰
- ç”³è¯·æ’¤é”€
- è‡ªåŠ¨æ›´æ–°å® ç‰©çŠ¶æ€

### 4. æ”¶è—åŠŸèƒ½
- æ·»åŠ /å–æ¶ˆæ”¶è—
- æ”¶è—åˆ—è¡¨æŸ¥è¯¢
- æ”¶è—çŠ¶æ€æ£€æŸ¥
- è‡ªåŠ¨ç»´æŠ¤æ”¶è—è®¡æ•°

### 5. æ–‡ç« ç®¡ç†
- æ–‡ç« CRUDæ“ä½œ
- æ–‡ç« åˆ†ç±»ï¼ˆå…»å® æŒ‡å—/é¢†å…»æ•…äº‹/æ–°é—»åŠ¨æ€ï¼‰
- æ–‡ç« å‘å¸ƒ/ä¸‹æ¶
- æµè§ˆæ¬¡æ•°ç»Ÿè®¡

## APIæ¥å£ç¤ºä¾‹

### ç”¨æˆ·ç™»å½•
```bash
POST /api/user/login
Content-Type: application/json

{
  "username": "testuser",
  "password": "user123"
}
```

### æŸ¥è¯¢å® ç‰©åˆ—è¡¨
```bash
GET /api/pet/page?current=1&size=10&category=cat&adoptionStatus=available
```

### æäº¤é¢†å…»ç”³è¯·
```bash
POST /api/adoption/apply
Authorization: your-token-here
Content-Type: application/json

{
  "petId": 1,
  "reason": "æˆ‘å¾ˆå–œæ¬¢å°åŠ¨ç‰©",
  "familyInfo": "ä¸‰å£ä¹‹å®¶",
  "careplan": "å®šæœŸä½“æ£€ã€ç§‘å­¦å–‚å…»",
  "contactPhone": "13800138000",
  "contactAddress": "åŒ—äº¬å¸‚æœé˜³åŒºxxè¡—é“"
}
```

## æµ‹è¯•è´¦å·

| ç”¨æˆ·å | å¯†ç  | è§’è‰² |
|--------|------|------|
| admin | admin123 | è¶…çº§ç®¡ç†å‘˜ |
| auditor | auditor123 | å®¡æ ¸å‘˜ |
| testuser | user123 | æ™®é€šç”¨æˆ· |

## æ•°æ®åº“è®¾è®¡

ç³»ç»ŸåŒ…å«ä»¥ä¸‹æ ¸å¿ƒè¡¨ï¼š

- `t_user` - ç”¨æˆ·è¡¨
- `t_pet` - å® ç‰©è¡¨
- `t_adoption_application` - é¢†å…»ç”³è¯·è¡¨
- `t_favorite` - æ”¶è—è¡¨
- `t_article` - æ–‡ç« è¡¨
- `t_chat_session` - ä¼šè¯è¡¨
- `t_chat_message` - èŠå¤©æ¶ˆæ¯è¡¨
- `t_notification` - é€šçŸ¥è¡¨
- `t_operation_log` - æ“ä½œæ—¥å¿—è¡¨
- `t_system_config` - ç³»ç»Ÿé…ç½®è¡¨

è¯¦ç»†çš„æ•°æ®åº“è®¾è®¡è¯·æŸ¥çœ‹ `init.sql` æ–‡ä»¶ã€‚

## å¼€å‘è§„èŒƒ

### ä»£ç è§„èŒƒ
- éµå¾ªé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ
- ä½¿ç”¨Lombokç®€åŒ–ä»£ç 
- ç»Ÿä¸€ä½¿ç”¨ä¸­æ–‡æ³¨é‡Š
- æ‰€æœ‰publicæ–¹æ³•å¿…é¡»æ·»åŠ JavaDocæ³¨é‡Š

### æäº¤è§„èŒƒ
- feat: æ–°åŠŸèƒ½
- fix: ä¿®å¤bug
- docs: æ–‡æ¡£æ›´æ–°
- style: ä»£ç æ ¼å¼è°ƒæ•´
- refactor: é‡æ„
- test: æµ‹è¯•ç›¸å…³
- chore: æ„å»º/å·¥å…·ç›¸å…³

## å¸¸è§é—®é¢˜

### 1. å¯åŠ¨å¤±è´¥ï¼šæ— æ³•è¿æ¥æ•°æ®åº“
- æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨
- ç¡®è®¤application.ymlä¸­çš„æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®
- ç¡®è®¤æ•°æ®åº“æ˜¯å¦å·²åˆ›å»º

### 2. TokenéªŒè¯å¤±è´¥
- æ£€æŸ¥RedisæœåŠ¡æ˜¯å¦å¯åŠ¨
- ç¡®è®¤è¯·æ±‚å¤´ä¸­æ˜¯å¦æºå¸¦äº†Authorizationå­—æ®µ
- æ£€æŸ¥Tokenæ˜¯å¦è¿‡æœŸ

### 3. æ•°æ®æŸ¥è¯¢ä¸ºç©º
- ç¡®è®¤init.sqlæ˜¯å¦æ‰§è¡ŒæˆåŠŸ
- æ£€æŸ¥æŸ¥è¯¢æ¡ä»¶æ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ç¡®è®¤SQLæ‰§è¡Œæƒ…å†µ

## åç»­è§„åˆ’

- [ ] é›†æˆSwagger/Knife4jæ¥å£æ–‡æ¡£
- [ ] å®Œå–„å•å…ƒæµ‹è¯•
- [ ] å®ç°æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
- [ ] é›†æˆWebSocketå®ç°å®æ—¶é€šè®¯
- [ ] å®Œå–„æ“ä½œæ—¥å¿—è®°å½•
- [ ] æ·»åŠ æ•°æ®ç»Ÿè®¡å’ŒæŠ¥è¡¨åŠŸèƒ½
- [ ] æ€§èƒ½ä¼˜åŒ–ï¼ˆç¼“å­˜ç­–ç•¥ã€SQLä¼˜åŒ–ï¼‰
- [ ] é›†æˆSpring AIå®ç°æ™ºèƒ½é—®ç­”

## ç›¸å…³æ–‡æ¡£

- [é¡¹ç›®æ–‡æ¡£](./é¡¹ç›®æ–‡æ¡£.md) - å®Œæ•´çš„é¡¹ç›®è¯´æ˜æ–‡æ¡£
- [æ•°æ®åº“è®¾è®¡](./init.sql) - æ•°æ®åº“å»ºè¡¨è„šæœ¬
- [Java 21å‡çº§è¯´æ˜](./JAVA21å‡çº§è¯´æ˜.md) - Java 21 å‡çº§æŒ‡å—
- [Redisé…ç½®è¯´æ˜](./Redisé…ç½®è¯´æ˜.md) - Redis é…ç½®è¯¦è§£

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œæ¯•ä¸šè®¾è®¡ä½¿ç”¨ã€‚

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»é¡¹ç›®è´Ÿè´£äººã€‚
